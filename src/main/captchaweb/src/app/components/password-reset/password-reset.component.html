<div class="page-container">
  <header class="settings-header">
    <h2>{{ 'settings' | translate }}</h2>
    <div class="header-actions">
      <button class="mode-toggle" (click)="toggleDarkMode()">
        <i class="fas" [ngClass]="isDarkMode ? 'fa-sun' : 'fa-moon'"></i>
      </button>
      <button class="settings-toggle" (click)="toggleModal()" title="{{ 'reset_password' | translate }}">
        <i class="fas fa-cog"></i> {{ 'reset_password' | translate }}
      </button>
    </div>
  </header>

  <div class="modal-overlay" *ngIf="showModal" (click)="toggleModal()"></div>
  <div class="reset-container" *ngIf="showModal">
    <h3>{{ 'reset_password' | translate }}</h3>
    <form (ngSubmit)="resetPassword()">
      <div class="password-wrapper">
        <input
          [type]="showOldPassword ? 'text' : 'password'"
          [(ngModel)]="oldPassword"
          name="oldPassword"
          placeholder="{{ 'old_password' | translate }}"
          required
        />
        <span class="toggle-password" (click)="togglePasswordVisibility('old')">
          {{ showOldPassword ? '🙈' : '👁️' }}
        </span>
      </div>
      <div class="password-wrapper">
        <input
          [type]="showNewPassword ? 'text' : 'password'"
          [(ngModel)]="newPassword"
          name="newPassword"
          placeholder="{{ 'new_password' | translate }}"
          required
        />
        <span class="toggle-password" (click)="togglePasswordVisibility('new')">
          {{ showNewPassword ? '🙈' : '👁️' }}
        </span>
      </div>
      <div class="password-wrapper">
        <input
          [type]="showConfirmPassword ? 'text' : 'password'"
          [(ngModel)]="confirmNewPassword"
          name="confirmNewPassword"
          placeholder="{{ 'confirm_new_password' | translate }}"
          required
        />
        <span class="toggle-password" (click)="togglePasswordVisibility('confirm')">
          {{ showConfirmPassword ? '🙈' : '👁️' }}
        </span>
      </div>
      <button type="submit">{{ 'reset_password' | translate }}</button>
    </form>
  </div>
</div>